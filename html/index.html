<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Airpic: Airpic Library Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="uofm-tiny.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Airpic
   </div>
   <div id="projectbrief">Libraries for Small-Scale Automated Aviation Systems Using PIC24F Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Airpic Library Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The Airpic Libraries include various tools to simplify and accelerate the development of C code for the PIC24 microcontroller. Airpic was designed for use with Project IRIS, a project created by Innovative Engineers at the University of Minnesota Twin Cities.</p>
<h2><a class="anchor" id="microcontroller"></a>
Microcontroller</h2>
<p>These libraries were written for the PIC24FJ64GA002 microcontroller, but they are theoretically compatible with any PIC24FJ device. It should be relatively easy to adapt these libraries for use on virtually any PIC24 microcontroller.</p>
<h2><a class="anchor" id="connections"></a>
Connections</h2>
<p>Airpic uses a variety of peripherals and pins on the PIC device. </p>
<ul>
<li>
<a class="el" href="airpic-timer_8h.html" title="Configure and use timed sleep functions and Timer4/5 ISR. ">airpic-timer.h</a> uses Timer peripherals 1, 4, and 5. </li>
<li>
<a class="el" href="airpic-statusled_8h.html" title="Status LED manager. ">airpic-statusled.h</a> uses Timer peripheral 2, and pins RB15, RB14, and RB13 (physical pins 26, 25, and 24, respectively). </li>
<li>
<a class="el" href="airpic-i2c_8h.html" title="Communicate with devices connected to I2C2. ">airpic-i2c.h</a> uses the I2C2 peripheral, and pins SDA2 and SCL2 (physical pins 6 and 7, respectively) </li>
<li>
<a class="el" href="airpic-serialgps_8h.html" title="Configure and use UART1 for RS-232 communication with GPS. ">airpic-serialgps.h</a> uses the UART1 peripheral, and pins RP10 and RP11 (physical pins 21 and 22, respectively). </li>
<li>
<p class="startli">if the serial debugger messages are enabled, they will use RP6 and RP7 (physical pins 15 and 16, respectively). </p>
<p class="endli"></p>
</li>
</ul>
<p>More detailed information about pin connections are shown below: </p>
<p> 
<img src="https://i.imgur.com/utqZF0K.png" alt="d001-connections diagram" width="800">
 </p>
<p>WARNING! The PIC microcontroller is a 3.3V device. If something (like an arduino's RX pin) tries to send data with a 5V logic level, there is a high chance you will damage the PIC! However, the PIC's outputs can be connected to inputs on a 5V device.</p>
<h2><a class="anchor" id="arduino"></a>
Using the Arduino Serial Monitor to Receive Data from Airpic Serial Port</h2>
<p>Follow these instructions to view the output of Airpic's serial debug port using the Arduino IDE's Serial Monitor tool. These instructions assume the user has a cursory understanding of the Arduino IDE. </p>
<p>Step 1: Connect an Arduino UNO to a computer. Using the Arduino IDE, upload a completely empty sketch to the Arduino. (this means that the void setup() and void loop() are both empty) </p>
<p>Step 2: Connect any of the GND pins on the Arduino to any GND pin of the PIC microcontroller. </p>
<p>Step 3: Attach pin 15 of the PIC microcontroller to the TX pin of an Arduino UNO. (The 'TX' pin on the Arduino is attached to the RX pin of the Arduino's on-board serial-to-USB converter) </p>
<p>Step 4: Open the Arduino IDE. </p>
<p>Step 5: In the main function currently running on the PIC microcontroller, find the call to <a class="el" href="airpic_8h.html#a979d7fce1540594b947c1d69e50fefb9" title="Enable the debugger serial port. ">airpic_debugger_enable(unsigned int baudSelect)</a>. If the given value of baudSelect is one of the predefined macros (ex: DEBUGGER_BAUDRATE_38400) then the baudrate of the serial port is the number specified in the macro's name (ex: for DEBUGGER_BAUDRATE_9600, the baudrate is 9600). If the specified value for baudSelect is not specified using a macro, use this formula to determine the baudrate: ((1,000,000) / (baudSelect + 1)) </p>
<p>Step 6: In the Arduino IDE, go to Tools &gt; Serial Monitor. Set the Serial Monitor's baudrate to the value found in step 5. </p>
<p>Any information sent by the Airpic serial debugger port will now appear in the Arduino Serial Monitor.</p>
<h2><a class="anchor" id="techinfo"></a>
Compiler/Technical Information</h2>
<p>Airpic was compiled using the XC16 compiler, version 1.32B. The IDE used was MPLAB X, version 4.00. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
